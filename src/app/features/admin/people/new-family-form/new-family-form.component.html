<div id="forms" class="page-layout simple fullwidth" fxLayout="column">

    <!-- HEADER -->
    <div class="header accent p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
        <div fxLayout="column" fxLayoutAlign="center start">
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="secondary-text s-18">home</mat-icon>
                <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
                <span class="secondary-text">People</span>
            </div>
            <div class="h1 mt-16">New Family</div>
        </div>
    </div>
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content p-24">

        <div class="horizontal-stepper-wrapper">

            <!-- HORIZONTAL STEPPER  -->
            <mat-horizontal-stepper class="mat-elevation-z4" [linear]="true">

                <mat-step [stepControl]="addressFormStep1">

                    <form fxLayout="column" [formGroup]="addressFormStep1">

                        <ng-template matStepLabel>Family Address</ng-template>

                        <cm-address-editor formControlName="address"></cm-address-editor>

                        <div class="mt-16" fxLayout="row" fxLayoutAlign="center center">
                            <button mat-raised-button matStepperNext type="button" color="accent">
                                Next
                            </button>
                        </div>

                    </form>

                </mat-step>

                <mat-step [stepControl]="familyFormStep2">

                    <form fxLayout="column" [formGroup]="familyFormStep2">

                        <ng-template matStepLabel>Family Members</ng-template>

                        <div class="mat-card p-24 mr-24">

                            <div class="h2 mb-24">Family Members</div>

                            <div fxLayout="row" fxLayoutAlign="space-around center">
                                <mat-form-field appearance="outline" fxFlex="50">
                                    <mat-label>Family Name</mat-label>
                                    <input matInput formControlName="familyName">
                                    <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                </mat-form-field>

                                <div fxFlexOffset="20" fxFlex="50">
                                    <!-- ADD PERSON BUTTON -->
                                    <button mat-fab class="accent" id="add-person-button" (click)="newPerson()"
                                            aria-label="add person"
                                            [@fadeIn]="true">
                                        <mat-icon>person_add</mat-icon>
                                    </button>
                                    <!-- / ADD PERSON BUTTON -->
                                </div>
                            </div>

                            <people-family-members-list
                                [familyMembers]="familyMembers$ | async"></people-family-members-list>

                        </div>

                        <div class="mt-16" fxLayout="row" fxLayoutAlign="center center">
                            <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="accent">
                                Previous
                            </button>
                            <button [disabled]="!familyFormStep2.valid"
                                    mat-raised-button type="button" color="accent" (click)="saveFamily()">
                                Save
                            </button>
                        </div>

                    </form>

                </mat-step>

            </mat-horizontal-stepper>
            <!-- / HORIZONTAL STEPPER  -->

        </div>
        <!-- / CONTENT -->

    </div>
</div>